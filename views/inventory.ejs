<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title><%= appName %> â€” Inventory</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="stylesheet" href="/css/base.css" />
  <link rel="stylesheet" href="/css/components.css" />
  <link rel="stylesheet" href="/css/inventory.css" />
</head>

<body>
<div class="app">

<header class="app-header-bar">
  <div class="app-brand">
    <span class="app-title"><%= appName %></span>
    <p class="app-tagline">Manage your stock efficiently</p>
  </div>

  <nav class="main-nav">
    <a class="nav-link active" href="/inventory">Inventory</a>
    <a class="nav-link" href="/catalog">Catalog</a>
    <a class="nav-link" href="/billing">Billing</a>
    <a class="nav-link" href="/bills">Bills</a>
    <a class="nav-link" href="/sales">Sales</a>
  </nav>

  <div class="app-header-right">
    <form id="logout-form" method="POST" action="/logout">
      <button type="button" id="user-btn" class="user-menu-btn"
        data-username="<%= currentUser?.username || 'User' %>">
        <span class="user-avatar">
          <%= currentUser?.username?.charAt(0).toUpperCase() || "U" %>
        </span>
        <span id="user-btn-text"><%= currentUser?.username || "User" %></span>
      </button>
    </form>
    <div class="header-actions">
    <button id="theme-toggle">Dark Theme ðŸŒ™</button>
  </div>
  </div>
</header>

<main class="app-main print-area">

<section class="panel">
  <h2>Inventory List</h2>

  <form id="item-form">
    <div class="form-row">
      <input id="item-name" placeholder="Item name" required />
      <input id="item-sku" placeholder="SKU code" required />
      <input id="item-category" placeholder="Category" />
    </div>

    <div class="form-row">
      <input id="item-qty" type="number" placeholder="Qty" required />
      <input id="item-purchase-price" type="number" step="0.01" placeholder="Purchase price" required />
      <input id="item-mrp" type="number" step="0.01" placeholder="MRP" required />
      <input id="item-gst" type="number" step="0.01" placeholder="GST %" />
    </div>

    <label class="checkbox-row">
      <input type="checkbox" id="item-show-catalog" checked />
      Show in catalog
    </label>

    <div class="form-actions">
      <button type="button" id="update-info-btn">Add Item</button>
      <button type="button" id="add-batch-btn" class="secondary">Add New Batch</button>
      <button type="button" id="reset-btn" class="secondary">Clear</button>
    </div>
  </form>
</section>

<section class="panel">
  <h2>Inventory List</h2>
  <span id="empty-state" class="muted">No items yet.</span>

  <table>
    <thead>
      <tr>
        <th>#</th><th>Name</th><th>SKU</th><th>Category</th>
        <th>Qty</th><th>Purchase</th><th>MRP</th>
        <th>Rate</th><th>GST</th><th>Profit</th>
        <th>Catalog</th><th>Actions</th>
      </tr>
    </thead>
    <tbody id="inventory-body"></tbody>
  </table>
</section>

<section class="panel print-target">
  <h2>Search Inventory</h2>

  <input id="search-input" placeholder="Search by name, SKU, or category" />

  <p id="search-empty" class="muted" style="display:none"></p>

  <div id="search-actions" style="display:none; gap:8px; margin:8px 0;">
    <button id="print-btn" class="secondary">Print</button>
    <button id="csv-btn" class="secondary">Export CSV</button>
  </div>

  <table>
    <thead>
      <tr>
        <th>#</th><th>Name</th><th>SKU</th><th>Category</th>
        <th>Qty</th><th>Purchase</th><th>MRP</th>
        <th>Rate</th><th>GST</th><th>Profit</th>
      </tr>
    </thead>
    <tbody id="search-body"></tbody>
  </table>
</section>

</main>
</div>

<script src="/js/index.js"></script>
<script src="/js/inventory.js"></script>
<script src="/js/theme.js"></script>
</body>
</html>